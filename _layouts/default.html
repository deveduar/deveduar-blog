<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

{%- include head.html -%}

<body>

  {%- include header.html -%}

  <main class="page-content" aria-label="Content">
    <div class="wrapper">
      {{ content }}
    </div>
  </main>

  </div> <!-- Cierre de .site-content -->
  </div> <!-- Cierre de .site-container -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/instantclick/3.1.0/instantclick.min.js" data-no-instant></script>
  <script src="{{ '/assets/js/sidebar.js' | relative_url }}"></script>
  <!-- Configurar InstantClick -->
  <script data-no-instant>
    // Inicializar todo al cargar la página inicial
    document.addEventListener('DOMContentLoaded', () => {
      handleCategories();
      handleScroll();
    });

    // Guardar el scroll justo antes de que InstantClick cargue la nueva página
    InstantClick.on('fetch', () => {
      const sidebarContent = document.querySelector('.sidebar-content');
      if (sidebarContent) {
        sessionStorage.setItem('sidebarScrollPos', sidebarContent.scrollTop);
      }
    });

    // Inicializar todo cuando InstantClick cargue una nueva página
    InstantClick.on('change', () => {
      handleCategories();
      handleScroll();
    });

    // Inicializar InstantClick
    InstantClick.init();
  </script>
  


</body>

</html>